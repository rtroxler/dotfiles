# Set prefix to Ctrl-Space
unbind C-b
set -g prefix C-Space
bind Space send-prefix

set-option -g history-limit 55000

unbind %
unbind-key -n Tab
unbind-key -n BTab
unbind-key -n C-j
unbind-key -n C-k
unbind-key -n C-h
unbind-key -n C-l
unbind-key -n C-BSpace
#
## switch windows alt+number
bind-key -n M-a select-window -t 1
bind-key -n M-s select-window -t 2
bind-key -n M-d select-window -t 3
bind-key -n M-f select-window -t 4
bind-key -n M-z select-window -t 5
bind-key -n M-x select-window -t 6
bind-key -n M-c select-window -t 7
bind-key -n M-v select-window -t 8

bind | split-window -h
bind - split-window -v

bind-key -n C-9 switch-client -p
bind-key -n C-0 switch-client -n


#remove prompt for killing panes
bind-key x kill-pane

# xterm keys
set-window-option -g xterm-keys on

# Moving windows
bind-key -r > swap-window -t :+
bind-key -r < swap-window -t :-

#visual bell
#setw -g monitor-activity on
set -g visual-activity off
set -g visual-bell off

# Smart pane switching with awareness of vim splits
is_vim='echo "#{pane_current_command}" | grep -iqE "(^|\/)g?(view|n?vim?)(diff)?$"'
bind -n M-h if-shell "$is_vim" "send-keys M-h" "select-pane -L"
bind -n M-j if-shell "$is_vim" "send-keys M-j" "select-pane -D"
bind -n M-k if-shell "$is_vim" "send-keys M-k" "select-pane -U"
bind -n M-l if-shell "$is_vim" "send-keys M-l" "select-pane -R"
bind -n C-\ if-shell "$is_vim" "send-keys C-\\" "select-pane -l"


# Start windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1

# Zoom zoom zoom
bind-key -n C-f resize-pane -Z

bind-key k send-keys -R \; clear-history

# Resize panes
bind-key -n M-S-Left resize-pane -L 2
bind-key -n M-S-Right resize-pane -R 2
bind-key -n M-S-Up resize-pane -U 2
bind-key -n M-S-Down resize-pane -D 4



# statusbar --------------------------------------------------------------

set -g display-time 2000
set-option -g status-position top

# command/message line colors
#set -g message-fg black
#set -g message-bg white

#Atom
set -g message-fg colour248
set -g message-bg colour14

set -g message-attr dim

# center align the window list
set -g status-justify centre

# show some useful info
set -g status-left "#[fg=red,bg=colour8][#S]"
set -g status-left-length 50
set -g status-right "[#[fg=white,bold]%a %Y-%m-%d  %H:%M#[default]]"
set -g status-right-length 50

#Dark
#set -g window-status-current-style bg=colour255,fg=colour236

#Atom
set -g window-status-current-style bg=colour8,fg=colour6,bold

# Light
#set -g status-bg colour255
#set -g status-fg colour232

# Dark
# I forgot ;(

# Atom-esk
set -g status-bg colour8
set -g status-fg colour7

setw -g mode-mouse on
set -g mouse-resize-pane on
set -g mouse-select-pane on

#default shell zsh
set-option -g default-shell /bin/zsh

set -g default-terminal "screen-256color"

set-option -g set-titles on
set-option -g set-titles-string '#S.#I #W'

set-option -sg escape-time 0

#some vim copy stuff
set-window-option -g mode-keys vi
bind-key [ copy-mode
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-pipe 'xclip -in -selection clipboard'

if-shell 'test "$(uname -s)" = "Linux"' 'bind-key y run-shell "tmux show-buffer | xclip -sel clip -i" \; display-message "Copied tmux buffer to system clipboard"'
